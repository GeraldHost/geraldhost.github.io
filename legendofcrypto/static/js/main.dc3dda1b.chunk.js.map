{"version":3,"sources":["web3.js","config.js","eth.config.js","sagas.js","store.js","eth.js","svgs/logo.svg.js","ModalManager.js","components/modal.config.js","components/Header.js","components/Main.js","components/Footer.js","components/Banner.js","images/hero.png","components/Hero.js","components/List.js","components/Card.js","components/Progress.js","components/SectionTitle.js","components/Modal.js","components/StatsBar.js","components/CreaturesListing.js","views/Home.recentBattles.js","images/arena-bg.png","views/arena.config.js","game.js","views/Fortress.js","views/TokenViewer.js","app.routes.js","views/Home.js","views/Arena.js","views/About.js","views/Marketplace.js","App.js","index.js"],"names":["web3","legendOfCrypto","marketplace","host","apiUrl","config","networkId","networkRpcUrl","networkName","legendOfCryptoAddr","legendOfCryptoAbi","legendOfCryptoAbiJson","marketplaceAddr","marketplaceAbi","marketplaceAbiJson","getWeb3","a","Web3","window","ethereum","enable","getLegendOfCrypto","eth","Contract","getMarketplace","mint","account","methods","getMintCost","call","mintCost","send","from","value","getCreature","tokenId","toString","resp","address","creatureId","powerups","abilities","xp","getAccount","Promise","res","rej","getAccounts","error","accounts","withdraw","getBalance","cost","utils","fromWei","getTokens","tokens","subscribeTo","contract","eventName","callback","Event","_","find","_jsonInterface","o","name","type","subscription","subscribe","options","topics","signature","result","decoded","abi","decodeLog","inputs","data","subscribeToMinted","owner","subscribeToUpgraded","subscribeToTransfer","to","subscribeToSale","arenaResult","message","upgradeCreature","paidLevelBoost","creature","getUpgradeCost","upgradeCost","upgrade","equipPowerup","powerupId","getPowerupValue","isForSale","listPrice","listPriceWei","toWei","sell","getListPrice","buy","getSellable","mintToken","notification","loadAccount","commitXp","selectToken","upgradeToken","tokenEquipPowerup","mainSaga","fetchApi","endpoint","args","fetch","then","json","select","state","put","notify","text","dontClear","action","payload","addNotification","delay","clearNotification","updateAccount","balance","updateBalance","length","clearTokens","formattedTokens","map","id","updateTokens","selectTokenAction","currentXp","addToken","forSale","console","takeLatest","createAction","callMintToken","callLoadAccount","getUniqueTokens","reduce","acc","token","reducer","createReducer","uniqueTokens","sagaMiddleware","createSagaMiddleware","configureStore","middleware","run","Logo","width","viewBox","version","xmlns","className","d","fill","ModalContext","createContext","useModal","useContext","ModalManager","children","useState","show","setShow","setConfig","close","modalMethods","open","modalCopy","Provider","title","handleClose","handleConfirm","confirmText","subTitle","body","ModalType","MintCreature","BuyCreature","UpgradeCreature","GetStarted","Commit","subtitle","alert","Header","history","useHistory","dispatch","useDispatch","useSelector","location","useLocation","showNav","pathname","handleChangeToken","push","Navbar","variant","bg","Brand","Nav","Link","as","DropdownButton","menuAlign","i","Dropdown","Item","onClick","Button","Main","Footer","href","target","rel","Banner","validNetwork","setValidNetwork","networkCheck","net","getId","netId","useEffect","timer","setInterval","clearTimeout","style","fontSize","Hero","getStarted","Jumbotron","Container","Row","Col","xs","md","src","HeroImg","alt","List","items","fluid","item","index","lg","ListItem","number","caption","imageSrc","PowerupCard","setCost","loadPowerupValue","Img","process","Title","Body","powerupNames","CreatureCard","maxXp","level","actions","highlight","powerupIds","undefined","cn","creatureNames","Progress","label","progress","percentage","SectionTitle","Modal","size","onHide","centered","closeButton","PowerupShopModal","powerup","selectPowerup","Array","selected","UpgradeModal","currentCreatureId","boostValue","setBoost","Number","onChange","event","gaurdedValue","SellModal","setListPrice","max","defaultProps","xpToLevel","Math","floor","sqrt","nextLevelXp","StatsBar","challengerTokenId","challengerCreature","setChallengerCreature","activeToken","myLevel","challengerLevel","padStart","CreaturesListing","useRef","render","current","x","random","round","RecentBattles","setData","battles","fullData","Items","slice","winner","looser","winnerCreature","all","loadBattles","placeablePositions","Status","WAITING","PREPARE","READY","WINNER","LOOSER","ATTACK","DEFEND","MISSED","ERROR","CONNECTING","DISCONNECTED","waitForConn","socket","on","check","prop","Error","useCounter","count","setCount","inc","dec","useGame","initialCreaturePosition","roomId","setError","setSocket","attacked","setAttacked","attacks","setAttacks","status","setStatus","challengerId","setChallengerId","setChallengerTokenId","challengerReady","setChallengerReady","creaturePosition","setCreaturePosition","decAttackCount","setAttackCount","attackCount","decRepairCount","setRepairCount","repairCount","start","seconds","setSeconds","startTimer","resetTimer","useCountDown","gameReady","gameStarted","startGame","useCallback","io","emit","handleAttack","setTimeout","handleDefend","statusName","curret","disconnect","position","filter","p","attack","myAttacks","challengerAttacks","ready","repair","routes","path","exact","component","creatureSale","setCreatureSale","handleGetStarted","creatures","loadSellable","useMemo","URLSearchParams","search","get","grid","imageLoaded","setImageLoaded","imageLoadedInc","allImagesLaoded","handleMove","includes","handleRepair","announcements","consoleMessages","announcement","consoleMessage","publicUrl","backgroundImage","isAttacking","isDefending","isFighting","isAttacked","isBattleGround","placeable","attackable","repairable","imageSliceNumber","imageCrackNumber","invisible","onLoad","powerupModal","setPowerupModal","upgradeModal","setUpgradeModal","sellModal","setSellModal","results","setResults","commits","setCommits","unclaimedXp","setUnclaimedXp","privateRoomId","uuidv4","handleCommitXp","boostXp","handleResubmit","handleWithdraw","myCreatureActions","disabled","Table","bordered","abilityXp","committed","colSpan","match","setCreature","params","loadCreature","App","subscriberCreatureCallback","subscriberSaleCallback","useLegendOfCrypto","route","ReactDOM","store","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dc3dda1b.chunk.js","sourcesContent":["import Web3 from \"web3\";\n\nimport {\n  networkRpcUrl,\n  legendOfCryptoAbi,\n  legendOfCryptoAddr,\n  marketplaceAbi,\n  marketplaceAddr,\n  contractBlockHeight,\n} from \"./eth.config\";\n\nlet web3, legendOfCrypto, marketplace;\n\n/**\n *\tGet web3 instance\n *\t@returns web3 instance\n */\nexport async function getWeb3() {\n  if (web3) {\n    return web3;\n  }\n  web3 = new Web3(window.ethereum || networkRpcUrl);\n  if (window.ethereum) {\n    await window.ethereum.enable();\n  }\n  return web3;\n}\n\n/**\n *\tGet legend of crypto instance\n *\t@returns loc instance\n */\nexport async function getLegendOfCrypto() {\n  if (legendOfCrypto) {\n    return legendOfCrypto;\n  }\n  const web3 = await getWeb3();\n  legendOfCrypto = await new web3.eth.Contract(\n    legendOfCryptoAbi,\n    legendOfCryptoAddr\n  );\n  window.legendOfCrypto = legendOfCrypto;\n  return legendOfCrypto;\n}\n\n/**\n *  Get legend of crypto instance\n *  @returns loc instance\n */\nexport async function getMarketplace() {\n  if (marketplace) {\n    return marketplace;\n  }\n  const web3 = await getWeb3();\n  marketplace = await new web3.eth.Contract(marketplaceAbi, marketplaceAddr);\n  window.marketplace = marketplace;\n  return marketplace;\n}\n\n/**\n *\tMint new token\n */\nexport async function mint(account) {\n  const legendOfCrypto = await getLegendOfCrypto();\n  const mintCost = await legendOfCrypto.methods.getMintCost().call();\n  return legendOfCrypto.methods.mint().send({ from: account, value: mintCost });\n}\n\n/**\n *\tGet Creature by token ID\n *\t@param {string} tokenId\n *\t@returns uin256 createId, uin256[] powerups, uin256[4] abilities, uint256 xp\n */\nexport async function getCreature(tokenId) {\n  const legendOfCrypto = await getLegendOfCrypto();\n  const resp = await legendOfCrypto.methods\n    .getCreature(tokenId.toString())\n    .call();\n  const address = resp[0];\n  const { creatureId, powerups, abilities, xp } = resp[1];\n  return { creatureId, powerups, abilities, xp, address };\n}\n\n/**\n *\tGet accounts\n * \t@returns promise address account\n */\nexport async function getAccount() {\n  const web3 = await getWeb3();\n  return new Promise((res, rej) => {\n    web3.eth.getAccounts((error, accounts) => {\n      if (error) {\n        rej(error);\n      }\n      res(accounts[0]);\n    });\n  });\n}\n\nexport async function withdraw(account) {\n  const marketplace = await getMarketplace();\n  return marketplace.methods.withdraw().send({ from: account });\n}\n\n/**\n *  Get balance returns ether amount\n */\nexport async function getBalance(account) {\n  const web3 = await getWeb3();\n  const marketplace = await getMarketplace();\n  const cost = await marketplace.methods.getBalance(account).call();\n  return web3.utils.fromWei(cost, \"ether\");\n}\n\n/**\n *  Get account tokens\n *  @param {address} account\n *  @returns uint256[] tokens\n */\nexport async function getTokens(account) {\n  const legendOfCrypto = await getLegendOfCrypto();\n  const tokens = await legendOfCrypto.methods.getTokens(account).call();\n  return tokens;\n}\n\n/**\n *\tSubscribe to minted named event\n *  @returns promise decoded event input\n */\nexport async function subscribeTo(contract, eventName, callback) {\n  const web3 = await getWeb3();\n\n  const Event = web3.utils._.find(\n    contract._jsonInterface,\n    (o) => o.name === eventName && o.type === \"event\"\n  );\n\n  const subscription = web3.eth.subscribe(\n    \"logs\",\n    {\n      address: contract.options.address,\n      topics: [Event.signature],\n    },\n    function (error, result) {\n      if (error) {\n        callback(error, null);\n        return;\n      }\n\n      const decoded = web3.eth.abi.decodeLog(Event.inputs, result.data);\n      callback(null, decoded);\n    }\n  );\n\n  return subscription;\n}\n\n/**\n *\tSubscribe to minted event\n *  @returns promise decoded event input\n */\nexport async function subscribeToMinted(account, callback) {\n  const legendOfCrypto = await getLegendOfCrypto();\n  return subscribeTo(legendOfCrypto, \"Minted\", (error, decoded) => {\n    if (!error && decoded?.owner === account) {\n      callback(null, decoded);\n      return;\n    }\n  });\n}\n\n/**\n *\tSubscribe to upgraded event\n *  @returns promise decoded event input\n */\nexport async function subscribeToUpgraded(tokenId, callback) {\n  const legendOfCrypto = await getLegendOfCrypto();\n  return subscribeTo(legendOfCrypto, \"Upgraded\", (error, decoded) => {\n    if (!error && decoded?.tokenId === tokenId) {\n      callback(null, decoded);\n      return;\n    }\n  });\n}\n\n/**\n *  Subscribe to tansfer event\n *  @returns promise decoded event input\n */\nexport async function subscribeToTransfer(account, callback) {\n  const legendOfCrypto = await getLegendOfCrypto();\n  return subscribeTo(legendOfCrypto, \"Transfer\", (error, decoded) => {\n    if (!error && decoded?.to === account) {\n      callback(null, decoded);\n      return;\n    }\n  });\n}\n\n/**\n *  Subscribe to sales event\n *  @returns promise decoded event input\n */\nexport async function subscribeToSale(tokenId, callback) {\n  const marketplace = await getMarketplace();\n  return subscribeTo(marketplace, \"Sale\", callback, { tokenId });\n}\n\n/**\n *  Arena Results\n *  @returns promise transaction result\n */\nexport async function arenaResult(account, { tokenId, message, signature }) {\n  const legendOfCrypto = await getLegendOfCrypto();\n  return legendOfCrypto.methods\n    .arenaResult(tokenId, message, signature)\n    .send({ from: account });\n}\n\n/**\n *\tUpgrade Creature\n *  @returns promise transaction result\n */\nexport async function upgradeCreature(\n  account,\n  { paidLevelBoost, tokenId, signature, message }\n) {\n  paidLevelBoost = paidLevelBoost.toString();\n  tokenId = tokenId.toString();\n  const legendOfCrypto = await getLegendOfCrypto();\n  const creature = await getCreature(tokenId);\n  const upgradeCost = await legendOfCrypto.methods\n    .getUpgradeCost(paidLevelBoost, creature.xp)\n    .call();\n  return legendOfCrypto.methods\n    .upgrade(tokenId, paidLevelBoost, message, signature)\n    .send({ from: account, value: upgradeCost });\n}\n\nexport async function equipPowerup(account, tokenId, powerupId) {\n  tokenId = tokenId.toString();\n  powerupId = powerupId.toString();\n  const legendOfCrypto = await getLegendOfCrypto();\n  const value = await legendOfCrypto.methods.getPowerupValue(powerupId).call();\n  return legendOfCrypto.methods\n    .equipPowerup(tokenId, powerupId)\n    .send({ from: account, value });\n}\n\nexport async function isForSale(tokenId) {\n  tokenId = tokenId.toString();\n  const marketplace = await getMarketplace();\n  return marketplace.methods.isForSale(tokenId).call();\n}\n\nexport async function sell(account, tokenId, listPrice) {\n  tokenId = tokenId.toString();\n  listPrice = listPrice.toString();\n  const listPriceWei = web3.utils.toWei(listPrice, \"ether\");\n  const marketplace = await getMarketplace();\n  return marketplace.methods\n    .sell(tokenId, listPriceWei)\n    .send({ from: account });\n}\n\nexport async function buy(account, tokenId) {\n  tokenId = tokenId.toString();\n  const marketplace = await getMarketplace();\n  const listPriceWei = await marketplace.methods.getListPrice(tokenId).call();\n  await marketplace.methods\n    .buy(tokenId)\n    .send({ from: account, value: listPriceWei });\n}\n\nexport async function getSellable() {\n  const marketplace = await getMarketplace();\n  return marketplace.methods.getSellable().call();\n}\n\nexport async function getListPrice(tokenId) {\n  tokenId = tokenId.toString();\n  const marketplace = await getMarketplace();\n  const listPriceWei = await marketplace.methods.getListPrice(tokenId).call();\n  return web3.utils.fromWei(listPriceWei, \"ether\");\n}\n","const isDev = process.env.NODE_ENV === \"development\";\nconst host = isDev ? \"localhost:8080\" : \"8ucscc37btum.gerald.host\";\nconst schema = isDev ? \"http\" : \"https\";\nexport const apiUrl = `${schema}://${host}`;\nexport const wsUrl = `ws://${host}`;\n","import legendOfCryptoAbiJson from \"./legendOfCryptoAbi.json\";\nimport marketplaceAbiJson from \"./marketplaceAbi.json\";\n\nconst ceth = {\n  networkId: 777,\n  networkRpcUrl: \"https://node.cheapeth.org/rpc\",\n  networkName: \"cheapeth\",\n};\n\nconst hardhat = {\n  networkId: 1337,\n  networkRpcUrl: \"http://127.0.0.1:8545\",\n  networkName: \"hardhat\",\n};\n\nconst config = ceth;\n\nexport const networkId = config.networkId;\nexport const networkRpcUrl = config.networkRpcUrl;\nexport const networkName = config.networkName;\n\nexport const legendOfCryptoAddr = \"0xF5CdDaB1f93CECB6F78baE77227A2311d322658F\";\nexport const legendOfCryptoAbi = legendOfCryptoAbiJson;\nexport const contractBlockHeight = 12240000;\n\nexport const marketplaceAddr = \"0xb5725F54A3903639648E1903828df2e58Bb86C4D\";\nexport const marketplaceAbi = marketplaceAbiJson;\n\nexport const verifierAddr = \"0x9ADcE02E9e8c48Da1F2C273F5bff1fE53d8d65A1\";\n\nexport const currencySymbol = \"\";\nexport const mintCost = \"5\";\nexport const baseValue = \"5\";\nexport const boostValue = \"5\";\n","import { call, put, takeLatest, select, delay } from \"redux-saga/effects\";\n\nimport { apiUrl } from \"./config\";\nimport {\n  getAccount,\n  getTokens,\n  mint,\n  arenaResult,\n  getCreature,\n  upgradeCreature,\n  equipPowerup,\n  isForSale,\n  getBalance,\n} from \"./web3\";\nimport {\n  notify,\n  addToken,\n  addNotification,\n  clearNotification,\n  updateAccount,\n  updateTokens,\n  selectToken as selectTokenAction,\n  clearTokens,\n  updateBalance,\n} from \"./store\";\n\nconst fetchApi = (endpoint, ...args) =>\n  fetch(`${apiUrl}${endpoint}`, ...args).then((resp) => resp.json());\n\nfunction* mintToken() {\n  try {\n    const state = yield select();\n    if (!state.account) {\n      yield put(\n        notify(\"Please connect an account before your try to mint a creature.\")\n      );\n      return;\n    }\n    yield put(\n      notify({\n        text: \"Waiting for your transaction to complete.\",\n        dontClear: true,\n      })\n    );\n    yield call(mint, state.account);\n  } catch (_) {\n    yield put(notify(\"Error minting creature. Please try again.\"));\n  }\n}\n\nfunction* notification(action) {\n  let dontClear;\n  let text = action.payload;\n  if (typeof action.payload === \"object\") {\n    text = action.payload.text;\n    dontClear = action.payload.dontClear;\n  }\n  yield put(addNotification(text));\n  if (!dontClear) {\n    // setTimeout to clear notifications after 3s\n    yield delay(3000);\n    yield put(clearNotification());\n  }\n}\n\nfunction* loadAccount() {\n  try {\n    const account = yield call(getAccount);\n    yield put(updateAccount(account));\n    const balance = yield call(getBalance, account);\n    yield put(updateBalance(balance));\n    const tokens = yield call(getTokens, account);\n    if (tokens.length <= 0) {\n      yield put(clearTokens());\n      return;\n    }\n    const formattedTokens = tokens.map((id) => {\n      return { id };\n    });\n    yield put(updateTokens(formattedTokens));\n    // select the first one which will trigger it's latest state to be fetched\n    // from the block chain\n    yield put(selectTokenAction(formattedTokens[0].id));\n  } catch (_) {\n    yield put(notify(\"Error fetching default account\"));\n  }\n}\n\nfunction* commitXp(action) {\n  try {\n    const { tokenId, currentXp, account } = action.payload;\n    const endpoint = `/token/${tokenId}/arenaresult?creatureXp=${currentXp}`;\n    const data = yield call(fetchApi, endpoint);\n    if (data) {\n      const { signature, message } = data;\n      yield put(\n        notify({\n          text: \"Waiting for your transaction to complete.\",\n          dontClear: true,\n        })\n      );\n      yield call(arenaResult, account, { tokenId, message, signature });\n      yield put(notify(\"XP committed!\"));\n      // update creature\n      const creature = yield call(getCreature, tokenId);\n      yield put(addToken({ id: tokenId, ...creature }));\n      yield put(notify(\"Fetched creature ID \", creature.creatureId));\n    }\n  } catch (_) {\n    yield put(notify(\"Failed to commit XP\"));\n  }\n}\n\nfunction* selectToken(action) {\n  try {\n    const creature = yield call(getCreature, action.payload);\n    const forSale = yield call(isForSale, action.payload);\n    yield put(addToken({ id: action.payload, forSale, ...creature }));\n    yield put(notify(\"Fetched creature ID \", creature.creatureId));\n  } catch (_) {\n    yield put(notify(\"Failed to get creature by token ID \", action.payload));\n  }\n}\n\nfunction* upgradeToken(action) {\n  try {\n    const { tokenId, account, paidLevelBoost } = action.payload;\n    const endpoint = `/token/${tokenId}/upgrade`;\n    const data = yield call(fetchApi, endpoint);\n    if (data) {\n      const { signature, message } = data;\n      yield put(\n        notify({\n          text: \"Waiting for your transaction to complete.\",\n          dontClear: true,\n        })\n      );\n      yield call(upgradeCreature, account, {\n        paidLevelBoost,\n        tokenId,\n        signature,\n        message,\n      });\n    }\n  } catch (_) {\n    console.error(_);\n    yield put(notify(\"Failed to upgrade token ID \", action.payload.tokenId));\n  }\n}\n\nfunction* tokenEquipPowerup(action) {\n  try {\n    const { account, tokenId, powerupId } = action.payload;\n    yield put(\n      notify({\n        text: \"Waiting for your transaction to complete.\",\n        dontClear: true,\n      })\n    );\n    yield call(equipPowerup, account, tokenId, powerupId);\n  } catch (_) {\n    console.error(_);\n    yield put(notify(\"Failed to equip powerup\"));\n  }\n}\n\nfunction* mainSaga() {\n  yield takeLatest(\"SELECT_TOKEN\", selectToken);\n  yield takeLatest(\"NOTIFY\", notification);\n  yield takeLatest(\"COMMIT_XP\", commitXp);\n  yield takeLatest(\"CALL_MINT_TOKEN\", mintToken);\n  yield takeLatest(\"CALL_LOAD_ACCOUNT\", loadAccount);\n  yield takeLatest(\"UPGRADE_TOKEN\", upgradeToken);\n  yield takeLatest(\"EQUIP_POWERUP\", tokenEquipPowerup);\n}\n\nexport default mainSaga;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { createAction, createReducer } from \"@reduxjs/toolkit\";\nimport createSagaMiddleware from \"redux-saga\";\nimport mainSaga from \"./sagas\";\n\nexport const addToken = createAction(\"ADD_TOKEN\");\nexport const updateTokens = createAction(\"UPDATE_TOKENS\");\nexport const clearTokens = createAction(\"CLEAR_TOKENS\");\nexport const updateAccount = createAction(\"UPDATE_ACCOUNT\");\nexport const addNotification = createAction(\"ADD_NOTIFICATION\");\nexport const updateBalance = createAction(\"UPDATE_BALANCE\");\nexport const clearNotification = createAction(\"CLEAR_NOTIFICATION\");\n\nexport const selectToken = createAction(\"SELECT_TOKEN\");\nexport const notify = createAction(\"NOTIFY\");\nexport const upgradeCreature = createAction(\"UPGRADE_TOKEN\");\nexport const commitXp = createAction(\"COMMIT_XP\");\nexport const callMintToken = createAction(\"CALL_MINT_TOKEN\");\nexport const callLoadAccount = createAction(\"CALL_LOAD_ACCOUNT\");\nexport const equipPowerup = createAction(\"EQUIP_POWERUP\");\n\nconst initialState = {\n  tokens: [],\n  notification: null,\n  account: null,\n  balance: 0,\n};\n\nconst getUniqueTokens = (tokens) => {\n  const uniqueTokens = tokens.reduce((acc, token) => {\n    if (acc.find((to) => to.id === token.id)) {\n      return acc;\n    }\n    return [...acc, token];\n  }, []);\n  return uniqueTokens;\n};\n\nexport const reducer = createReducer(initialState, {\n  [addToken]: (state, action) => {\n    const tokens = [action.payload, ...state.tokens];\n    const uniqueTokens = getUniqueTokens(tokens);\n    return { ...state, tokens: uniqueTokens };\n  },\n  [updateTokens]: (state, action) => {\n    const tokens = [...state.tokens, ...action.payload];\n    const uniqueTokens = getUniqueTokens(tokens);\n    return { ...state, tokens: uniqueTokens };\n  },\n  [clearTokens]: (state, action) => {\n    return { ...state, tokens: [] };\n  },\n  [updateAccount]: (state, action) => {\n    return { ...state, account: action.payload };\n  },\n  [addNotification]: (state, action) => {\n    return { ...state, notification: action.payload };\n  },\n  [clearNotification]: (state, action) => {\n    return { ...state, notification: null };\n  },\n  [updateBalance]: (state, action) => {\n    return { ...state, balance: action.payload };\n  },\n});\n\nexport const sagaMiddleware = createSagaMiddleware();\n\nexport default configureStore({\n  reducer: reducer,\n  middleware: [sagaMiddleware],\n});\n\nsagaMiddleware.run(mainSaga);\n","import { useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { callLoadAccount, addToken, notify, selectToken } from \"./store\";\nimport {\n  subscribeToMinted,\n  subscribeToUpgraded,\n  subscribeToTransfer,\n  subscribeToSale,\n  getAccount,\n} from \"./web3\";\n\n/**\n *  Legend Of Crypto Hook\n *\n *  Load up legend of crypto contract\n */\nexport const useLegendOfCrypto = () => {\n  const dispatch = useDispatch();\n  const account = useSelector((state) => state.account);\n  const tokens = useSelector((state) => state.tokens);\n  const activeToken = tokens?.[0];\n\n  /**\n   *  Callback for upgraded and minted subscribers\n   */\n  const subscriberCreatureCallback = useCallback(\n    (message) => (error, decoded) => {\n      if (error) {\n        console.error(error);\n        return;\n      }\n      const { abilities, xp, creatureId, powerups } = decoded.creature;\n      const tokenId = decoded.tokenId;\n      dispatch(addToken({ id: tokenId, abilities, xp, creatureId, powerups }));\n      dispatch(notify(message + tokenId));\n    },\n    [dispatch]\n  );\n\n  /**\n   *  Callback for sale subscribers\n   */\n  const subscriberSaleCallback = useCallback(\n    (message) => (error, decoded) => {\n      if (error) {\n        console.error(error);\n        return;\n      }\n      const { tokenId, listPrice } = decoded;\n      dispatch(selectToken(tokenId));\n      dispatch(notify(message + tokenId));\n    },\n    [dispatch]\n  );\n\n  /**\n   *  Load Accounts when we mount\n   */\n  useEffect(() => {\n    // load the connected account\n    if (window.ethereum) {\n      dispatch(callLoadAccount());\n    }\n  }, [dispatch]);\n\n  /**\n   *  Check if meta mask user changes\n   */\n  useEffect(() => {\n    const timer = setInterval(async () => {\n      const _account = await getAccount();\n      if (_account !== account) {\n        // reload account\n        clearTimeout(timer);\n        dispatch(callLoadAccount());\n      }\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [account]);\n\n  /**\n   *  Subscribe to Minted events\n   */\n  useEffect(() => {\n    if (!account) {\n      return;\n    }\n    (async function () {\n      await subscribeToMinted(\n        account,\n        subscriberCreatureCallback(\"Creature minted! Token ID: \")\n      );\n    })();\n  }, [account, subscriberCreatureCallback]);\n\n  /**\n   *  Subscribe to Upgraded events\n   */\n  useEffect(() => {\n    if (!activeToken?.id) {\n      return;\n    }\n    (async function () {\n      await subscribeToUpgraded(\n        activeToken.id,\n        subscriberCreatureCallback(\"Creature upgraded! Token ID: \")\n      );\n    })();\n  }, [activeToken?.id, subscriberCreatureCallback]);\n\n  /**\n   *  Subscribe to Sale events\n   */\n  useEffect(() => {\n    if (!activeToken?.id) {\n      return;\n    }\n    (async function () {\n      await subscribeToSale(\n        activeToken.id,\n        subscriberSaleCallback(\"Creature upgraded! Token ID: \")\n      );\n    })();\n  }, [activeToken?.id, subscriberSaleCallback]);\n\n  /**\n   *  Subscribe to Transfer events\n   */\n  useEffect(() => {\n    if (!account) {\n      return;\n    }\n    (async function () {\n      await subscribeToTransfer(\n        account,\n        subscriberSaleCallback(\"Creature upgraded! Token ID: \")\n      );\n    })();\n  }, [account, subscriberSaleCallback]);\n};\n","export default function Logo() {\n  return (\n    <svg\n      width=\"150px\"\n      viewBox=\"0 0 168 52\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className=\"mr-3\"\n    >\n      <title>Legend Of Crypto Logo</title>\n      <path d=\"M0 0h52v52H0z\" />\n      <path fill=\"#feda03\" d=\"M2 2h48v48H2z\" />\n      <path d=\"M14 26h4v2h2v6h-2v-4h4v6h2v2h4v-2h2v-6h4v4h-2v-6h2v-2h4v4h-2V20h-4v6H20v-6h-4v10h-2zm6-8v-2h12v2h2v4h-6v8h-4v-8h-6v-4zM8 44v-2h8v2h-2v-4h-2v-2H8v-2h2v8zM8 8v2h8V8h-2v4h-2v2H8v2h2V8zm28 0h2v4h2v2h4v2h-2V8h2v2h-8zm2 36v-4h2v-2h4v-2h-2v8h2v-2h-8v2zm-6-6h6v-6h4V20h-4v-6h-6v-4H20v4h-6v6h-4v12h4v6h6v4h12zm-16-2h-4V16h4v-4h20v4h4v20h-4v4H16z\" />\n      <path\n        fill=\"#fff\"\n        d=\"M72 22v-2h-8V8h-2v14zm10-8v-2h-6v2zm-6 6v-2h8v-4h-2v2h-6v-2h-2v6zm6 2v-2h-6v2zm6-10h6v4h-6zm6 10v-2h-6v2zm-6-10h-2v4h2v2h6v2h2V10h-8zm18 2v-2h-6v2zm-6 6v-2h8v-4h-2v2h-6v-2h-2v6zm6 2v-2h-6v2zm6 0v-6h2v-2h-2v-2h-2v10zm6-8v-2h-4v2zm2 8v-8h-2v8zm4-2v-6h-2v6zm4-6v-2h-4v2zm-4 6v2h8V8h-2v6h-2v2h2v4zM70 32v-2h-6v2zm-6 10V32h-2v10zm8 0V32h-2v10zm-2 2v-2h-6v2zm12-14v-2h-4v2zm-4 14v-6h2v-2h-2v-6h-2v6h-2v2h2v6zm6-12v-2h-2v2zm20 0v-2h-6v2zm-6 10V32h-2v10zm8-8v-2h-2v2zm0 8v-2h-2v2zm-2 2v-2h-6v2zm6 0v-6h2v-2h-2v-2h-2v10zm6-8v-2h-4v2zm2 2v-2h-2v2zm4 0v2h6v2h2v-8h-2v4zm6 6v-2h-6v2zm-6-6v-4h-2v4zm12 6v-4h6v-2h-6v-2h6v-2h-8v10zm8-6v-2h-2v2zm6 4v-6h2v-2h-2v-4h-2v4h-2v2h2v6zm6 0v-2h-2v2zm-2 2v-2h-4v2zm12-8v-2h-6v2zm-6 6v-6h-2v6zm8 0v-6h-2v6zm-2 2v-2h-6v2z\"\n      />\n    </svg>\n  );\n}\n","import { createContext, useContext, useState } from \"react\";\n\nimport { Modal, modalCopy } from \"./components\";\n\nconst ModalContext = createContext({});\nexport const useModal = () => useContext(ModalContext);\n\nexport function ModalManager({ children }) {\n  const [show, setShow] = useState(false);\n  const [config, setConfig] = useState({});\n\n  const close = () => setShow(false);\n\n  const open = (config) => {\n    const type = config.type;\n    setConfig({ ...modalCopy[type], ...config });\n    setShow(true);\n  };\n\n  const modalMethods = {\n    close,\n    open,\n  };\n\n  return (\n    <ModalContext.Provider value={modalMethods}>\n      <Modal\n        title={config.title}\n        handleClose={close}\n        show={show}\n        handleConfirm={config.handleConfirm}\n        confirmText={config.confirmText}\n        {...config}\n      >\n        <h2 className=\"h6\">{config.subTitle}</h2>\n        {config.body}\n      </Modal>\n      {children}\n    </ModalContext.Provider>\n  );\n}\n","import { mintCost, currencySymbol } from \"../eth.config\";\n\nexport const ModalType = {\n  MintCreature: \"mint-creature\",\n  BuyCreature: \"buy-creature\",\n  UpgradeCreature: \"upgrade-creature\",\n  GetStarted: \"get-started\",\n};\n\nexport const modalCopy = {\n  [ModalType.Commit]: {\n    title: \"Commit XP\",\n    subtitle: \"\", // overridden\n    confirmText: \"Commit XP\",\n    handleConfirm: () => alert(\"commit not implemented\"),\n  },\n  [ModalType.MintCreature]: {\n    title: \"Mint creature\",\n    subtitle: \"You are about to mint a new creature.\",\n    body: \"Mint a new creature and start battling in the arena!\",\n    confirmText: `Mint creature  ${mintCost}`,\n    handleConfirm: () => alert(\"mint not implemented\"),\n  },\n  [ModalType.BuyCreature]: {\n    title: \"Buy creature\",\n    subTitle: \"you are about to buy a new creature\",\n    body: \"\", // overridden\n  },\n  [ModalType.UpgradeCreature]: {\n    title: \"Upgrade your creature\",\n    subTitle:\n      \"You can upgrade your creature to the next rarity level once you have enough XP\",\n    body: \"\",\n  },\n  [ModalType.GetStarted]: {\n    title: \"Join the legend of crypto\",\n    subTitle: \"To get started you will need a creature!\",\n    confirmText: `Mint creature ${currencySymbol} ${mintCost}`,\n    body: (\n      <>\n        <p>\n          Creatures have different levels of rarity and power. Train up your\n          creature by battling challengers in the arena.\n        </p>\n        <p>\n          As you earn more xp by battling you will be able to upgrade your\n          creature. The more you upgrade the rarer your creature will become!\n        </p>\n        <p>Train your creature up and then sell it on the LOC market place</p>\n      </>\n    ),\n    handleConfirm: () => alert(\"mint\"),\n  },\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navbar, Nav, DropdownButton, Dropdown, Button } from \"react-bootstrap\";\n\nimport Logo from \"../svgs/logo.svg\";\nimport { useModal } from \"../ModalManager\";\nimport { ModalType } from \"./modal.config\";\nimport { callMintToken, selectToken } from \"../store\";\n\nimport \"./header.scss\";\n\nexport function Header() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const tokens = useSelector((state) => state.tokens);\n  const location = useLocation();\n  const { open } = useModal();\n\n  const showNav = location?.pathname !== \"/arena\";\n\n  const handleMint = () => {\n    const mint = (close) => {\n      dispatch(callMintToken());\n      close();\n    };\n    open({ type: ModalType.MintCreature, handleConfirm: mint });\n  };\n\n  const handleChangeToken = (token) => () => {\n    dispatch(selectToken(token.id));\n    history.push(\"/fortress\");\n  };\n\n  return (\n    <Navbar variant=\"dark\" bg=\"dark\" className=\"header\">\n      <Navbar.Brand>\n        <Link to=\"/\">\n          <Logo />\n        </Link>\n      </Navbar.Brand>\n      {showNav ? (\n        <>\n          <Nav className=\"mr-auto header-left\">\n            <Nav.Link as={Link} to=\"/about\">\n              About\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/fortress\">\n              Fortress\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/arena\">\n              Arena\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/marketplace\">\n              Market\n            </Nav.Link>\n          </Nav>\n          <Nav className=\"ml-auto header-right\">\n            <DropdownButton\n              className=\"mr-3\"\n              title=\"Select Creature\"\n              menuAlign=\"right\"\n            >\n              {tokens.length > 0 &&\n                tokens.map((token, i) => (\n                  <Dropdown.Item\n                    key={token.id}\n                    onClick={handleChangeToken(token)}\n                  >\n                    Token ID: {token.id} {i === 0 && \"(selected)\"}\n                  </Dropdown.Item>\n                ))}\n              <Dropdown.Item onClick={handleMint}>\n                + Mint new creature\n              </Dropdown.Item>\n            </DropdownButton>\n          </Nav>\n        </>\n      ) : (\n        <Nav className=\"ml-auto header-right\">\n          <Button as={Link} to=\"/fortress\">\n            Fortress\n          </Button>\n        </Nav>\n      )}\n    </Navbar>\n  );\n}\n","import React from \"react\";\n\nexport function Main({ children }) {\n  return <main className=\"main p-4\">{children}</main>;\n}\n","import React from \"react\";\n\nimport \"./footer.scss\";\n\nconst copyright = \"Built with  by gerald.host\";\n\nexport function Footer() {\n  return (\n    <footer className=\"footer\">\n      <a\n        href=\"http://gerald.host\"\n        className=\"text-white\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        {copyright}\n      </a>\n    </footer>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nimport { getWeb3 } from \"../web3\";\nimport { networkName, networkId } from \"../eth.config\";\nimport { useSelector } from \"react-redux\";\n\nexport function Banner() {\n  const account = useSelector((state) => state.account);\n  const [validNetwork, setValidNetwork] = useState(true);\n\n  const networkCheck = async () => {\n    const web3 = await getWeb3();\n    const netId = await web3.eth.net.getId();\n    const validNetwork = netId === networkId;\n    setValidNetwork(validNetwork);\n  };\n\n  useEffect(() => {\n    const timer = setInterval(function () {\n      networkCheck();\n    }, 1000);\n    return () => clearTimeout(timer);\n  });\n\n  const message = !window.ethereum ? (\n    \"Please make sure you have metamask installed\"\n  ) : !validNetwork ? (\n    `Please make sure you are connected to the ${networkName} network`\n  ) : account === null ? (\n    <>\n      Connect with metamask <u>Connect</u>\n    </>\n  ) : null;\n\n  return (\n    <>\n      <div\n        className=\"p-1 text-center bg-warning text-dark\"\n        style={{ fontSize: \"12px\" }}\n      >\n        [Beta] running on Cheap Ethereum\n      </div>\n      {message && <div className=\"p-2 text-center bg-danger\">{message}</div>}\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/hero.51bd197d.png\";","import { Jumbotron, Container, Row, Col, Button } from \"react-bootstrap\";\n\nimport HeroImg from \"../images/hero.png\";\n\nimport \"./hero.scss\";\n\nexport function Hero({ getStarted }) {\n  return (\n    <Jumbotron className=\"hero\">\n      <Container>\n        <Row>\n          <Col xs={12} md={8}>\n            <h1>\n              Welcome to the\n              <br />\n              Legend of Crypto\n            </h1>\n            <p>Collect battle and train NFT creatures</p>\n            <Button onClick={getStarted}>Get Started</Button>\n          </Col>\n        </Row>\n      </Container>\n      <img className=\"hero__image\" src={HeroImg} alt=\"loc-hero\" />\n    </Jumbotron>\n  );\n}\n","import { Container, Row, Col } from \"react-bootstrap\";\n\nimport \"./list.scss\";\n\nexport function List({ items }) {\n  return (\n    <Container className=\"list my-4\" fluid>\n      <Row>\n        {items.map((item, index) => {\n          return (\n            <Col key={index} xs={12} md={4} lg={3}>\n              <ListItem number={index + 1} {...item} />\n            </Col>\n          );\n        })}\n      </Row>\n    </Container>\n  );\n}\n\nexport function ListItem({ number, title, caption, imageSrc }) {\n  return (\n    <div className=\"list-item mb-3\">\n      <div className=\"list-item-number\">{number}</div>\n      <img className=\"list-item__image\" src={imageSrc} alt={title} />\n      <div className=\"list-item__details\">\n        <h4 className=\"list-item__title\">{title}</h4>\n        <p className=\"list-item__caption\">{caption}</p>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { Card as BSCard, Button } from \"react-bootstrap\";\nimport cn from \"classnames\";\nimport { useSelector } from \"react-redux\";\n\nimport { Progress } from \"../components\";\nimport { useModal } from \"../ModalManager\";\nimport { ModalType } from \"../components/modal.config\";\nimport creatureNames from \"../creature-names.json\";\nimport powerupNames from \"../powerup-names.json\";\nimport { buy, getLegendOfCrypto, getPowerupValue, getWeb3 } from \"../web3\";\nimport { currencySymbol } from \"../eth.config\";\n\nimport \"./card.scss\";\n\nexport function PowerupCard({ powerupId }) {\n  const [cost, setCost] = useState(0);\n\n  useEffect(() => {\n    async function loadPowerupValue() {\n      const legendOfCrypto = await getLegendOfCrypto();\n      const web3 = await getWeb3();\n      const value = await legendOfCrypto.methods\n        .getPowerupValue(powerupId.toString())\n        .call();\n      setCost(web3.utils.fromWei(value, \"ether\"));\n    }\n    loadPowerupValue();\n  }, []);\n\n  return (\n    <BSCard className=\"powerup-card\">\n      <div className=\"card-image-wrapper\">\n        <BSCard.Img\n          variant=\"top\"\n          src={`${process.env.PUBLIC_URL}/powerups/${powerupId}.png`}\n          alt={powerupId}\n        />\n      </div>\n      <BSCard.Title></BSCard.Title>\n      <BSCard.Body>\n        <p>ID: {powerupId}</p>\n        <p>Name: {powerupNames[powerupId - 1]}</p>\n        <p>\n          Cost: {currencySymbol} {cost}\n        </p>\n        <p>XP Boost: coming soon</p>\n        <p>Special Ability: coming soon</p>\n      </BSCard.Body>\n    </BSCard>\n  );\n}\n\nexport function CreatureCard({\n  title,\n  xp,\n  maxXp,\n  level,\n  tokenId,\n  creatureId,\n  actions,\n  highlight,\n  powerupIds,\n  abilities,\n  forSale,\n  listPrice,\n}) {\n  const account = useSelector((state) => state.account);\n  const { open } = useModal();\n\n  const handleBuy = () => {\n    const buyToken = (close) => {\n      buy(account, tokenId);\n      close();\n    };\n    open({\n      type: ModalType.BuyCreature,\n      body: `Buying token ID ${tokenId} for  ${listPrice}`,\n      handleConfirm: buyToken,\n      confirmText: `buy  ${listPrice}`,\n    });\n  };\n\n  if (\n    tokenId === undefined ||\n    abilities === undefined ||\n    xp === undefined ||\n    creatureId === undefined\n  ) {\n    return null;\n  }\n\n  return (\n    <BSCard className={cn({ \"card--highlight\": highlight })}>\n      <div className=\"card-image-wrapper\">\n        <BSCard.Img\n          variant=\"top\"\n          src={`${process.env.PUBLIC_URL}/creatures/${creatureId}.png`}\n          alt={title}\n        />\n      </div>\n      <BSCard.Title>\n        <p>\n          Token: #{tokenId}\n          <br />\n          Creature: {creatureNames[creatureId]}\n        </p>\n        <p>\n          Level: {level}\n          <br />\n          Rareness: {creatureId}/198\n        </p>\n        <p>\n          {forSale && (\n            <span className=\"p-1 bg-warning text-dark\">For sale</span>\n          )}\n        </p>\n        <Progress label=\"XP\" progress={[xp, maxXp]} />\n      </BSCard.Title>\n      <BSCard.Body>\n        <h3>Abilities</h3>\n        <Progress label=\"Strength\" progress={[abilities[0], 100]} />\n        <Progress label=\"Intelegence\" progress={[abilities[1], 100]} />\n        <Progress label=\"Agility\" progress={[abilities[2], 100]} />\n        <Progress label=\"Grit\" progress={[abilities[3], 100]} />\n        <h3 className=\"mt-3\">Powerups</h3>\n        <div className=\"prowerup-rail\">\n          {powerupIds && powerupIds.length > 0 ? (\n            powerupIds.map((powerupId, i) => (\n              <img\n                key={i}\n                src={`${process.env.PUBLIC_URL}/powerups/${powerupId}.png`}\n                alt={powerupId}\n              />\n            ))\n          ) : (\n            <small>No powerups</small>\n          )}\n        </div>\n      </BSCard.Body>\n      <BSCard.Footer>\n        {actions?.length > 0 &&\n          actions.map(({ text, action }) => (\n            <Button\n              key={text}\n              variant=\"primary\"\n              className=\"mr-1 my-1\"\n              onClick={action && action(open)}\n            >\n              {text}\n            </Button>\n          ))}\n\n        {listPrice && (\n          <Button variant=\"primary\" className=\"mr-1 my-1\" onClick={handleBuy}>\n            Buy  {listPrice}\n          </Button>\n        )}\n      </BSCard.Footer>\n    </BSCard>\n  );\n}\n","import \"./progress.scss\";\n\nexport function Progress({ progress, label }) {\n  const percentage = (progress[0] / progress[1]) * 100;\n  return (\n    <>\n      <div className=\"not-bs-progress\">\n        <div className=\"not-bs-progress__label\">{label}</div>\n        <span className=\"xp-progress-numbers mr-1\">\n          {progress[0]}/{progress[1]}\n        </span>\n        <div className=\"not-bs-progress__bar\">\n          <div className=\"level\" style={{ width: `${percentage}%` }} />\n        </div>\n      </div>\n    </>\n  );\n}\n","import { Row, Col } from \"react-bootstrap\";\n\nexport function SectionTitle({ title, subTitle, children }) {\n  return (\n    <div className=\"section mb-5\">\n      <h2 className=\"section__title\">{title}</h2>\n      <Row>\n        <Col xs={12} md={8}>\n          <p className=\"section__sub-title\">{subTitle}</p>\n          {children}\n        </Col>\n      </Row>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport cn from \"classnames\";\nimport { Modal as BsModal, Button } from \"react-bootstrap\";\n\nimport \"./modal.scss\";\n\nexport function Modal({\n  show,\n  handleClose,\n  handleConfirm,\n  title,\n  children,\n  confirmText,\n  size = \"md\",\n}) {\n  return (\n    <BsModal show={show} onHide={handleClose} centered size={size}>\n      <BsModal.Header closeButton>\n        <BsModal.Title>{title}</BsModal.Title>\n      </BsModal.Header>\n      <BsModal.Body>{children}</BsModal.Body>\n      <BsModal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          Cancel\n        </Button>\n        <Button variant=\"primary\" onClick={() => handleConfirm(handleClose)}>\n          {confirmText}\n        </Button>\n      </BsModal.Footer>\n    </BsModal>\n  );\n}\n\nModal.defaultProps = {\n  confirmText: \"Confirm\",\n};\n\nexport function PowerupShopModal({ show, handleClose, handleConfirm }) {\n  const [powerup, selectPowerup] = useState(1);\n\n  const handleClick = () => {\n    handleConfirm(powerup);\n  };\n\n  return (\n    <BsModal show={show} onHide={handleClose} centered size=\"md\">\n      <BsModal.Header closeButton>\n        <BsModal.Title>Powerup Shop</BsModal.Title>\n      </BsModal.Header>\n      <BsModal.Body>\n        <p>\n          Powerups will give you a better chance at being victorious in battle!\n        </p>\n        <div className=\"powerup-shop\">\n          {Array(12)\n            .fill(0)\n            .map((_, i) => {\n              return (\n                <img\n                  alt={`powerup-${i + 1}`}\n                  onClick={() => selectPowerup(i + 1)}\n                  className={cn(\"powerup-shop-img\", {\n                    selected: powerup === i + 1,\n                  })}\n                  src={`${process.env.PUBLIC_URL}/powerups/${i + 1}.png`}\n                />\n              );\n            })}\n        </div>\n      </BsModal.Body>\n      <BsModal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          Cancel\n        </Button>\n        <Button variant=\"primary\" onClick={handleClick}>\n          Buy Powerup\n        </Button>\n      </BsModal.Footer>\n    </BsModal>\n  );\n}\n\nexport function UpgradeModal({\n  show,\n  handleClose,\n  handleConfirm,\n  currentCreatureId,\n}) {\n  const [boostValue, setBoost] = useState(0);\n\n  const min = 0;\n  const max = 100;\n\n  const handleClick = () => {\n    handleConfirm(boostValue);\n  };\n\n  const handleChange = (event) => {\n    const value = event.target.value;\n    const gaurdedValue = Number(value) >= max ? max : value;\n    setBoost(gaurdedValue);\n  };\n\n  return (\n    <BsModal show={show} onHide={handleClose} centered size=\"md\">\n      <BsModal.Header closeButton>\n        <BsModal.Title>Upgrade</BsModal.Title>\n      </BsModal.Header>\n      <BsModal.Body>\n        <p>\n          You can upgrade your creature to a new rareness level. There are\n          currently 198 levels. When you upgrade your creature you have a random\n          chance of upgrading 1-5 levels above your current rareness level.\n        </p>\n        <p>\n          You can also pay to boost your level. boosting levels are worked out\n          based on your XP. If you have a high XP your boost cost will be closer\n          to the base price of 0.01 eth. If you don't have much xp you can still\n          boost but it will cost you!\n        </p>\n        <p>The more you play the cheaper the boost</p>\n        <p>Current rareness level: {currentCreatureId}</p>\n        <p>\n          Upgraded rareness level:{\" \"}\n          {Number(currentCreatureId) + 1 + Number(boostValue)} -{\" \"}\n          {Number(currentCreatureId) + 5 + Number(boostValue)}\n        </p>\n        <div className=\"upgrade-boost-bar\">\n          <div className=\"upgrade-boost-bar--label\">Boost (max 100):</div>\n          <input type=\"number\" onChange={handleChange} value={boostValue} />\n        </div>\n      </BsModal.Body>\n      <BsModal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          Cancel\n        </Button>\n        <Button variant=\"primary\" onClick={handleClick}>\n          Upgrade\n        </Button>\n      </BsModal.Footer>\n    </BsModal>\n  );\n}\n\nexport function SellModal({ show, handleClose, handleConfirm }) {\n  const [listPrice, setListPrice] = useState(0);\n\n  const min = 0;\n  const max = 10000000;\n\n  const handleClick = () => {\n    handleConfirm(listPrice);\n  };\n\n  const handleChange = (event) => {\n    const value = event.target.value;\n    const gaurdedValue = Number(value) >= max ? max : value;\n    setListPrice(gaurdedValue);\n  };\n\n  return (\n    <BsModal show={show} onHide={handleClose} centered size=\"md\">\n      <BsModal.Header closeButton>\n        <BsModal.Title>Sell</BsModal.Title>\n      </BsModal.Header>\n      <BsModal.Body>\n        <p>Your creature will be put up for sale imediatly if you confirm</p>\n        <p>How much do you want to sell your creature for?</p>\n        <div className=\"upgrade-boost-bar\">\n          <div className=\"upgrade-boost-bar--label\">List Price (eth):</div>\n          <input type=\"number\" onChange={handleChange} value={listPrice} />\n        </div>\n      </BsModal.Body>\n      <BsModal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          Cancel\n        </Button>\n        <Button variant=\"primary\" onClick={handleClick}>\n          List for sale\n        </Button>\n      </BsModal.Footer>\n    </BsModal>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { getCreature } from \"../web3\";\n\nimport \"./stats-bar.scss\";\n\nfunction xpToLevel(xp) {\n  if (xp <= 100) {\n    return 0;\n  }\n  return Math.floor(Math.sqrt((xp - 100) / 5));\n}\n\nfunction nextLevelXp(level) {\n  return 100 + 5 * level * level;\n}\n\nexport function StatsBar({ challengerTokenId }) {\n  const [challengerCreature, setChallengerCreature] = useState(null);\n  const tokens = useSelector((state) => state.tokens);\n  const activeToken = tokens[0];\n\n  useEffect(() => {\n    if (!challengerTokenId) {\n      return;\n    }\n    (async function () {\n      const resp = await getCreature(challengerTokenId.toString());\n      setChallengerCreature(resp);\n    })();\n  }, [challengerTokenId]);\n\n  const myLevel = xpToLevel(Number(activeToken?.xp));\n  const challengerLevel = xpToLevel(Number(challengerCreature?.xp));\n\n  if (!activeToken) {\n    return null;\n  }\n\n  return (\n    <>\n      <div className=\"p2 stats-bar\">\n        <span className=\"stat-badge p-2 mr-2\">Your Stats ::</span>\n        <span className=\"stat-badge p-2 mr-2\">\n          ID: {activeToken.id?.toString().padStart(5, \"0\")}\n        </span>\n        <span className=\"stat-badge p-2 mr-2\">Level: {myLevel}</span>\n        <span className=\"stat-badge p-2 mr-2\">\n          Rareness: {activeToken.creatureId?.toString().padStart(3, \"0\")}\n        </span>\n        <span className=\"stat-badge p-2 mr-2\">XP: {activeToken.xp}</span>\n        <span className=\"stat-badge p-2 mr-2\">\n          Next Level @: {nextLevelXp(myLevel)}xp\n        </span>\n      </div>\n      {challengerCreature && challengerTokenId && (\n        <div className=\"p2 mb-4 stats-bar challenger-stats\">\n          <span className=\"stat-badge p-2 mr-2\">Challenger Stats</span>\n          <span className=\"stat-badge p-2 mr-2\">\n            ID: {challengerTokenId.toString().padStart(5, \"0\")}\n          </span>\n          <span className=\"stat-badge p-2 mr-2\">Level: {challengerLevel}</span>\n          <span className=\"stat-badge p-2 mr-2\">\n            Rareness:{\" \"}\n            {challengerCreature.creatureId.toString().padStart(3, \"0\")}\n          </span>\n          <span className=\"stat-badge p-2 mr-2\">\n            XP: {challengerCreature.xp}\n          </span>\n          <span className=\"stat-badge p-2 mr-2\">\n            Next Level @: {nextLevelXp(challengerLevel)}xp\n          </span>\n        </div>\n      )}\n    </>\n  );\n}\n","import { useRef, useState, useEffect } from \"react\";\n\nimport \"./creatures-listing.scss\";\n\nconst range = 22;\n\nconst getRandom = () => Math.round(Math.random() * (197 - range)) + 1;\n\nexport function CreaturesListing() {\n  const timer = useRef(null);\n  const [_, render] = useState(0);\n\n  useEffect(() => {\n    timer.current = setInterval(() => {\n      render((x) => x + 1);\n    }, 5000);\n\n    return () => timer.current && clearTimeout(timer.current);\n  }, []);\n\n  return (\n    <div className=\"creatures-listing\">\n      {Array(range)\n        .fill(0)\n        .map((_, i) => {\n          const random = getRandom();\n          return (\n            <img\n              key={i}\n              className=\"d-block\"\n              alt={`creature-${random}`}\n              src={`${process.env.PUBLIC_URL}/creatures/${random}.png`}\n            />\n          );\n        })}\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nimport { List } from \"../components\";\nimport { apiUrl } from \"../config\";\nimport { getCreature } from \"../web3\";\n\nexport function RecentBattles() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    async function loadBattles() {\n      const battles = await fetch(apiUrl + \"/battles\");\n      const data = await battles.json();\n      const fullData = data.Items.slice(0, 8).map(\n        async ({ winner, looser, ...rest }) => {\n          const winnerCreature = await getCreature(winner);\n          // TOOD: replace with address\n          return {\n            title: `Token #${winner}`,\n            caption: `Token #${looser}`,\n            imageSrc: `${process.env.PUBLIC_URL}/creatures/${winnerCreature.creatureId}.png`,\n          };\n        }\n      );\n      setData(await Promise.all(fullData));\n    }\n    loadBattles();\n  }, []);\n\n  return <List items={data} />;\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAnCAIAAAAQFoaWAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFpmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDQtMDhUMTA6Mjg6MzQrMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDQtMDhUMTA6Mjg6MzQrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA0LTA4VDEwOjI4OjM0KzAxOjAwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmE1NzFlYTY3LTZjMWEtNDk5NC05YmY3LTMwY2Y0ZDRmNjBmZCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDphNTcxZWE2Ny02YzFhLTQ5OTQtOWJmNy0zMGNmNGQ0ZjYwZmQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphNTcxZWE2Ny02YzFhLTQ5OTQtOWJmNy0zMGNmNGQ0ZjYwZmQiPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT54bXAuZGlkOjg5OEUyOTZFNDhGNkUyMTE5NzJBQzRFMDgyRTI2QjZFPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTU3MWVhNjctNmMxYS00OTk0LTliZjctMzBjZjRkNGY2MGZkIiBzdEV2dDp3aGVuPSIyMDIxLTA0LTA4VDEwOjI4OjM0KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xj5daAAAAx0lEQVRYhe2XwQqAIAyGs2vQW3SM3v+1As92MAjByb8trcH+a/D55aa1cOzb9JvMXwsUsWOzLuGVNXAOabMu4YypDUKWYXFIm4w4Y2pQ2k8FnFalkMWQ4JzCprqfgu4Rcx4bqsDcHdJwHhukwEg0nNsmv4peRcm5bcY3bDV27uLxcRs6FmzGf71z6jbUQeXSuRxGpZB/AyWHYTPg08Hr4t5XtvBMdWpzoU2nTbJw33wVOzY+TxHxecrnKcjG5ynCxuepStyGzgV1x6jPbCbY8AAAAABJRU5ErkJggg==\"","export const placeablePositions = [\n  14,\n  15,\n  16,\n  17,\n  29,\n  41,\n  40,\n  39,\n  38,\n  50,\n  62,\n  74,\n  75,\n  76,\n  64,\n  65,\n  66,\n  78,\n  79,\n  80,\n  68,\n  56,\n  44,\n  43,\n  31,\n  19,\n  20,\n  21,\n  22,\n  23,\n  35,\n  47,\n  46,\n  58,\n  70,\n  82,\n  83,\n];\n","import { io } from \"socket.io-client\";\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { apiUrl } from \"./config\";\n\nexport const Status = {\n  WAITING: \"waiting\",\n  PREPARE: \"prepare\",\n  READY: \"ready\",\n  WINNER: \"winner\",\n  LOOSER: \"looser\",\n  ATTACK: \"attack\",\n  DEFEND: \"defend\",\n  MISSED: \"missed\",\n  ERROR: \"error\",\n  CONNECTING: \"connecting\",\n  DISCONNECTED: \"disconnected\",\n};\n\nconst waitForConn = (socket) => {\n  return new Promise((res) => {\n    socket.on(\"connect\", res);\n  });\n};\n\nconst check = (prop, message) => {\n  if (!prop) throw Error(message);\n};\n\nconst useCounter = () => {\n  const [count, setCount] = useState(0);\n  const inc = () => setCount((x) => x + 1);\n  const dec = () => setCount((x) => (x - 1 <= 0 ? 0 : x - 1));\n  return { inc, dec, count, setCount };\n};\n\nconst useCountDown = (start) => {\n  const timer = useRef(null);\n  const [seconds, setSeconds] = useState(start);\n\n  const startTimer = () => {\n    timer.current = setInterval(() => {\n      setSeconds((x) => (x - 1 <= 0 ? 0 : x - 1));\n    }, 1000);\n  };\n\n  const resetTimer = () => {\n    clearTimeout(timer.current);\n    setSeconds(start);\n  };\n\n  useEffect(() => {\n    return () => clearTimeout(timer.current);\n  }, []);\n\n  return { seconds, startTimer, resetTimer };\n};\n\nexport const useGame = ({ tokenId, initialCreaturePosition, roomId }) => {\n  const timer = useRef(null);\n  const [error, setError] = useState(null);\n  const [socket, setSocket] = useState(null);\n  // challenger attacks\n  const [attacked, setAttacked] = useState([]);\n  // my attacks\n  const [attacks, setAttacks] = useState([]);\n  const [status, setStatus] = useState(Status.CONNECTING);\n  const [challengerId, setChallengerId] = useState(null);\n  const [challengerTokenId, setChallengerTokenId] = useState(null);\n  const [challengerReady, setChallengerReady] = useState(false);\n  const [creaturePosition, setCreaturePosition] = useState(\n    initialCreaturePosition\n  );\n  const {\n    dec: decAttackCount,\n    setCount: setAttackCount,\n    count: attackCount,\n  } = useCounter();\n  const {\n    dec: decRepairCount,\n    setCount: setRepairCount,\n    count: repairCount,\n  } = useCounter();\n  const { startTimer, resetTimer, seconds } = useCountDown(5);\n\n  const gameReady = !!socket;\n  const gameStarted = status === Status.ATTACK || status === Status.DEFEND;\n\n  const startGame = useCallback(async () => {\n    // reset everything\n    setAttacked([]);\n    setAttacks([]);\n    setChallengerId(null);\n    setChallengerTokenId(null);\n    setChallengerReady(false);\n    setError(null);\n    setSocket(null);\n\n    const socket = io(apiUrl);\n    await waitForConn(socket);\n    setStatus(Status.WAITING);\n    setSocket(socket);\n  }, []);\n\n  useEffect(() => {\n    if (!tokenId) {\n      setStatus(Status.ERROR);\n      setError(\"No token found. Have you minted a creature?\");\n      return;\n    }\n    startGame();\n    return () => {\n      timer.current && clearTimeout(timer.current);\n    };\n  }, [tokenId, startGame]);\n\n  useEffect(() => {\n    if (!socket) {\n      // waiting for the socket\n      return;\n    }\n\n    socket.emit(\"waiting\", tokenId, roomId);\n\n    socket.on(\"challenge\", (challengerId, tokenId) => {\n      setChallengerTokenId(tokenId);\n      setChallengerId(challengerId);\n      setStatus(Status.PREPARE);\n      socket.emit(\"challenge_accepted\");\n    });\n\n    const handleAttack = (count) => {\n      setAttackCount(count);\n      timer.current = setTimeout(() => {\n        setStatus(Status.ATTACK);\n        resetTimer();\n        startTimer();\n      }, 1000);\n    };\n\n    const handleDefend = (count) => {\n      setRepairCount(count);\n      timer.current = setTimeout(() => {\n        setStatus(Status.DEFEND);\n        resetTimer();\n        startTimer();\n      }, 1000);\n    };\n\n    socket.on(\"status\", (statusName, args) => {\n      if (statusName === \"ATTACK\") {\n        handleAttack(...args);\n      } else if (statusName === \"DEFEND\") {\n        handleDefend(...args);\n      } else {\n        clearTimeout(timer.curret);\n        setStatus(Status[statusName]);\n      }\n    });\n\n    socket.on(\"result\", (result) => {\n      setStatus(Status[result]);\n      clearTimeout(timer.current);\n      socket.disconnect();\n    });\n\n    // the other player has attacked you\n    socket.on(\"attacked\", (position) => {\n      setAttacked((x) => [...x, position]);\n    });\n\n    // challenger is Ready\n    socket.on(\"ready\", () => {\n      setChallengerReady(true);\n    });\n\n    socket.on(\"repair\", (position) => {\n      setAttacks((x) => x.filter((p) => p !== position));\n    });\n\n    socket.on(\"error\", (error) => {\n      setStatus(Status.ERROR);\n      setError(`${error}`);\n    });\n\n    socket.on(\"gameover\", () => {\n      setStatus(Status.DISCONNECTED);\n      clearTimeout(timer.current);\n      socket.disconnect();\n    });\n  }, [socket, tokenId]);\n\n  const ready = () => {\n    check(challengerId, \"Challenger ID not set\");\n    check(gameReady, \"Game not ready\");\n    socket && socket.emit(\"ready\", creaturePosition, challengerId);\n    setStatus(Status.READY);\n  };\n\n  const attack = (position) => {\n    if (attackCount <= 0) {\n      return;\n    }\n    check(challengerId, \"Challenger ID not set\");\n    check(gameReady, \"Game not ready\");\n    setAttacks((x) => [...x, position]);\n    socket.emit(\"attack\", position, challengerId);\n    decAttackCount();\n  };\n\n  // coming soon...\n  // const move = (position) => {};\n\n  const repair = (position) => {\n    if (repairCount <= 0) {\n      return;\n    }\n    check(challengerId, \"Challenger ID not set\");\n    check(gameReady, \"Game not ready\");\n    socket.emit(\"repair\", position, challengerId);\n    setAttacked((x) => x.filter((p) => p !== position));\n    decRepairCount();\n  };\n\n  return {\n    attack,\n    myAttacks: attacks,\n    challengerAttacks: attacked,\n    setCreaturePosition,\n    gameStarted,\n    ready,\n    socket,\n    status,\n    error,\n    creaturePosition,\n    challengerReady,\n    attackCount,\n    repairCount,\n    seconds,\n    repair,\n    challengerTokenId,\n    startGame,\n  };\n};\n","import { useEffect, useState, useMemo } from \"react\";\nimport { Container, Row, Col, Button, Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport {\n  CreatureCard,\n  ModalType,\n  PowerupShopModal,\n  UpgradeModal,\n  SellModal,\n} from \"../components\";\nimport { useModal } from \"../ModalManager\";\nimport { apiUrl } from \"../config\";\nimport {\n  callMintToken,\n  notify,\n  commitXp,\n  upgradeCreature,\n  equipPowerup,\n} from \"../store\";\nimport { arenaResult, sell, withdraw } from \"../web3\";\n\nfunction xpToLevel(xp) {\n  if (xp <= 100) {\n    return 0;\n  }\n  return Math.floor(Math.sqrt((xp - 100) / 5));\n}\n\nfunction nextLevelXp(level) {\n  return 100 + 5 * level * level;\n}\n\nexport function Fortress() {\n  const dispatch = useDispatch();\n\n  const [powerupModal, setPowerupModal] = useState(false);\n  const [upgradeModal, setUpgradeModal] = useState(false);\n  const [sellModal, setSellModal] = useState(false);\n\n  const tokens = useSelector((state) => state.tokens);\n  const account = useSelector((state) => state.account);\n  const balance = useSelector((state) => state.balance);\n\n  const [results, setResults] = useState([]);\n  const [commits, setCommits] = useState([]);\n  const [unclaimedXp, setUnclaimedXp] = useState(0);\n  const { open } = useModal();\n\n  const privateRoomId = useMemo(() => uuidv4(), []);\n\n  const handleMint = () => {\n    const mint = () => dispatch(callMintToken());\n    open({ type: ModalType.MintCreature, handleConfirm: mint });\n  };\n\n  const activeToken = tokens[0];\n  const level = xpToLevel(Number(activeToken?.xp));\n\n  useEffect(() => {\n    (async function () {\n      if (activeToken?.id) {\n        const resp = await fetch(apiUrl + \"/battles/\" + activeToken.id);\n        const data = await resp.json();\n        if (data?.Items) {\n          setResults(data.Items);\n          setUnclaimedXp(data.unclaimedXp);\n        }\n      }\n    })();\n  }, [activeToken?.id, activeToken?.xp]);\n\n  useEffect(() => {\n    (async function () {\n      if (activeToken?.id) {\n        const resp = await fetch(\n          apiUrl + \"/token/\" + activeToken.id + \"/xpcommits\"\n        );\n        const data = await resp.json();\n        if (data?.Items) {\n          setCommits(data.Items);\n        }\n      }\n    })();\n  }, [activeToken?.id, activeToken?.xp]);\n\n  const handleCommitXp = () => {\n    const handleConfirm =\n      unclaimedXp > 0\n        ? (close) => {\n            dispatch(\n              commitXp({\n                account,\n                tokenId: activeToken.id,\n                currentXp: activeToken.xp,\n                boostXp: unclaimedXp,\n              })\n            );\n            close();\n          }\n        : () => dispatch(notify(\"No XP to commit\"));\n\n    open({\n      type: ModalType.Commit,\n      subTitle: `You are about to commit ${unclaimedXp} XP to the blockchain. You will only pay gas to do this.`,\n      body:\n        \"Any XP that is not committed within 12 hours of recieving will be lost\",\n      handleConfirm,\n    });\n  };\n\n  const handleUpgrade = (paidLevelBoost) => {\n    setUpgradeModal(false);\n    dispatch(\n      upgradeCreature({ account, tokenId: activeToken.id, paidLevelBoost })\n    );\n  };\n\n  const handleBuyPowerup = (powerupId) => {\n    setPowerupModal(false);\n    dispatch(equipPowerup({ account, tokenId: activeToken.id, powerupId }));\n  };\n\n  const handleSell = (listPrice) => {\n    setSellModal(false);\n    sell(account, activeToken?.id, listPrice);\n  };\n\n  const handleResubmit = ({ message, signature }) => () => {\n    arenaResult(account, { tokenId: activeToken?.id, signature, message });\n  };\n\n  const handleWithdraw = () => {\n    withdraw(account);\n  };\n\n  const myCreatureActions = [\n    {\n      text: activeToken?.forSale ? \"update sell price\" : \"sell\",\n      action: () => () => setSellModal(true),\n    },\n    {\n      text: \"upgrade\",\n      action: () => () => setUpgradeModal(true),\n    },\n    {\n      text: \"buy powerups\",\n      action: () => () => setPowerupModal(true),\n    },\n    {\n      text: `Commit XP (${unclaimedXp})`,\n      action: () => handleCommitXp,\n    },\n  ];\n\n  return (\n    <Container fluid>\n      <PowerupShopModal\n        show={powerupModal}\n        handleConfirm={handleBuyPowerup}\n        handleClose={() => setPowerupModal(false)}\n      />\n      <UpgradeModal\n        currentCreatureId={activeToken?.creatureId}\n        show={upgradeModal}\n        handleConfirm={handleUpgrade}\n        handleClose={() => setUpgradeModal(false)}\n      />\n      <SellModal\n        show={sellModal}\n        handleConfirm={handleSell}\n        handleClose={() => setSellModal(false)}\n      />\n      <h1 className=\"pt-3 pb-5 text-center\">Your Creature</h1>\n      <Row className=\"justify-content-center\">\n        {tokens.length > 0 ? (\n          <>\n            <Col xs={12} md={12} lg={3}>\n              <CreatureCard\n                highlight\n                title=\"My Creature\"\n                maxXp={nextLevelXp(level + 1)}\n                level={level}\n                actions={myCreatureActions}\n                xp={activeToken.xp}\n                tokenId={activeToken.id}\n                creatureId={activeToken.creatureId}\n                abilities={activeToken.abilities}\n                powerupIds={activeToken.powerups}\n                forSale={activeToken.forSale}\n              />\n            </Col>\n            <Col xs={12} md={12} lg={3}>\n              <h2 className=\"h3 mb-5\">Enter the Arena</h2>\n              <p>Battle a random challenger</p>\n              <Button as={Link} to=\"/arena\">\n                Go to Battle!\n              </Button>\n              <p className=\"mt-4\">Battle a friend</p>\n              <Button as={Link} to={`/arena?roomId=${privateRoomId}`}>\n                Private Arena\n              </Button>\n              <p className=\"mt-4\">Token Viewer</p>\n              <Button as={Link} to={`/fortress/${activeToken?.id}`}>\n                Viewer\n              </Button>\n              <h4 className=\"mt-5\">Withdraw</h4>\n              <p>Balance:  {balance}</p>\n              <Button disabled={balance <= 0} onClick={handleWithdraw}>\n                Withdraw\n              </Button>\n            </Col>\n          </>\n        ) : !!account ? (\n          <Col xs={12} className=\"text-center mb-5\">\n            {balance > 0 && (\n              <p className=\"mb-5\">\n                Balance:  {balance}{\" \"}\n                <Button onClick={handleWithdraw}>Withdraw</Button>\n              </p>\n            )}\n            <h2 className=\"h4\">\n              You don't have any tokens associated with\n              <br />\n              <pre className=\"mt-3\">{account}</pre>\n            </h2>\n            <p>Either connect a different account or mint your first token</p>\n            <Button onClick={handleMint}>Mint</Button>\n          </Col>\n        ) : (\n          <Col xs={12} className=\"text-center mb-5\">\n            <h2 className=\"h4\">Connect with meta mask</h2>\n            <Button onClick={() => alert()}>Connect</Button>\n          </Col>\n        )}\n      </Row>\n      <Row>\n        <Col xs={12} md={6}>\n          <h2 className=\"h3 mb-5\">Your Battles</h2>\n          <p>\n            History of your battle. You can claim XP for battles that you have\n            completed by committing to the Legends Of Crypto contract\n          </p>\n          <p>\n            As your you battle you earn XP. XP is only attributed to your\n            creature if you commit it to the Legends of Crypto contract. As you\n            earn XP you will level up and be able to upgrade your creature to be\n            more rare and more valuable!\n          </p>\n          <p>\n            Important! unclaimed XP can only be committed within 24hrs of\n            receiving it\n          </p>\n          <p>Total unclaimed XP: {unclaimedXp}</p>\n          {\n            <Button className=\"mb-5\" onClick={handleCommitXp}>\n              Commit XP\n            </Button>\n          }\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Table bordered className=\"table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Challenger</th>\n                <th>XP gained</th>\n                <th>Ability XP</th>\n                <th>Committed</th>\n              </tr>\n            </thead>\n            <tbody>\n              {results && results.length > 0 ? (\n                results.map(({ id, looser, xp, abilityXp, committed }) => {\n                  return (\n                    <tr key={id}>\n                      <td>{id}</td>\n                      <td>{looser}</td>\n                      <td>{xp}</td>\n                      <td>{abilityXp}</td>\n                      <td>{committed ? \"Yes\" : \"No\"}</td>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <td colSpan={5}>No XP found for this period</td>\n                </tr>\n              )}\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n      <Row>\n        <Col xs={12} md={6}>\n          <h2 className=\"h3 my-5\">XP Commits</h2>\n          <p>\n            When you commit XP we keep a record of the signature. If for any\n            reason a commit TX fails you can resubmit it below. Commits can only\n            be submitted once. Don't resubmit commits if you know they will fail\n            as you will just loose gas money.\n          </p>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Table bordered className=\"table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Message</th>\n                <th>Signature</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {commits && commits.length > 0 ? (\n                commits.map(({ id, message, signature }) => {\n                  return (\n                    <tr key={id}>\n                      <td>{id}</td>\n                      <td>{message}</td>\n                      <td>{signature}</td>\n                      <td className=\"text-center\">\n                        <u onClick={handleResubmit({ message, signature })}>\n                          Resubmit\n                        </u>\n                      </td>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <td colSpan={4}>No commits found</td>\n                </tr>\n              )}\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nimport { CreatureCard } from \"../components\";\nimport { getCreature } from \"../web3\";\n\nfunction xpToLevel(xp) {\n  if (xp <= 100) {\n    return 0;\n  }\n  return Math.floor(Math.sqrt((xp - 100) / 5));\n}\n\nfunction nextLevelXp(level) {\n  return 100 + 5 * level * level;\n}\n\nexport function TokenViewer({ match }) {\n  const [creature, setCreature] = useState({});\n\n  const tokenId = match.params.tokenId;\n\n  useEffect(() => {\n    async function loadCreature() {\n      const resp = await getCreature(tokenId);\n      setCreature(resp);\n    }\n    loadCreature();\n  }, [tokenId]);\n\n  const level = xpToLevel(creature?.xp);\n\n  return (\n    <Container fluid>\n      <h1 className=\"pt-3 pb-5 text-center\">Token #{tokenId}</h1>\n      <Row className=\"justify-content-center\">\n        <Col xs={12} md={12} lg={3}>\n          <CreatureCard\n            highlight\n            title={\"\"}\n            maxXp={nextLevelXp(level)}\n            level={level}\n            xp={creature?.xp}\n            tokenId={tokenId}\n            creatureId={creature?.creatureId}\n            abilities={creature?.abilities}\n            powerupIds={creature?.powerups}\n          />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import {\n  Home,\n  About,\n  Arena,\n  Fortress,\n  TokenViewer,\n  Marketplace,\n} from \"./views\";\n\nexport const routes = [\n  { path: \"/\", exact: true, component: Home },\n  { path: \"/arena\", exact: true, component: Arena },\n  { path: \"/about\", exact: true, component: About },\n  { path: \"/fortress\", exact: true, component: Fortress },\n  { path: \"/fortress/:tokenId\", exact: true, component: TokenViewer },\n  { path: \"/marketplace\", exact: true, component: Marketplace },\n];\n","import { useEffect, useState } from \"react\";\nimport { Row, Col, Button } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  Hero,\n  PowerupCard,\n  SectionTitle,\n  CreaturesListing,\n  CreatureCard,\n} from \"../components\";\nimport { useModal } from \"../ModalManager\";\nimport { ModalType } from \"../components/modal.config\";\nimport { callMintToken } from \"../store\";\nimport { RecentBattles } from \"./Home.recentBattles\";\n// Generate random data for now\nimport { powerups } from \"../data\";\nimport { getSellable, getCreature, getListPrice } from \"../web3\";\n\nimport \"./home.scss\";\n\nexport function Home() {\n  const [creatureSale, setCreatureSale] = useState([]);\n  const tokens = useSelector((state) => state.tokens);\n  const activeToken = tokens[0];\n\n  const dispatch = useDispatch();\n  const { open } = useModal();\n\n  const handleGetStarted = () => {\n    const mint = () => dispatch(callMintToken());\n    open({ type: ModalType.GetStarted, handleConfirm: mint });\n  };\n\n  useEffect(() => {\n    async function loadSellable() {\n      const resp = await getSellable();\n      const creatures = await Promise.all(\n        resp.slice(0, 8).map(async (tokenId) => {\n          const creature = await getCreature(tokenId);\n          const listPrice = await getListPrice(tokenId);\n          return { listPrice, tokenId, ...creature };\n        })\n      );\n      setCreatureSale(creatures);\n    }\n    loadSellable();\n  }, []);\n\n  return (\n    <>\n      <Hero getStarted={handleGetStarted} />\n      <SectionTitle\n        title=\"Recent Battles\"\n        subTitle=\"The victors and loosers from the battle arena\"\n      />\n      <RecentBattles />\n      <SectionTitle\n        title=\"Creature Sale\"\n        subTitle=\"Buy pre trained or rare creatures from other players\"\n      />\n      <Row>\n        {creatureSale.length <= 0 ? (\n          <Col xs={12} md={4} lg={3}>\n            <p className=\"mb-5\">No creatures for sale</p>\n          </Col>\n        ) : (\n          creatureSale.map((creature, i) => {\n            return (\n              <Col xs={12} md={4} lg={3} key={i}>\n                <CreatureCard {...creature} />\n              </Col>\n            );\n          })\n        )}\n      </Row>\n      <SectionTitle\n        title=\"Powerups\"\n        subTitle=\"Upgrade your creature with powerups. Powerups will give you XP boosts and access to special arenas and ugprades. There are currently 12 to collect\"\n      >\n        {activeToken ? (\n          <Button as={Link} to=\"/fortress\">\n            Shop Powerups\n          </Button>\n        ) : (\n          <>\n            <p>Mint a creature in order to equip powerups </p>\n            <Button onClick={handleGetStarted}>Mint</Button>\n          </>\n        )}\n      </SectionTitle>\n      <Row>\n        {Array(12)\n          .fill(0)\n          .map((_, i) => {\n            return (\n              <Col xs={12} md={2} key={i}>\n                <PowerupCard powerupId={i + 1} />\n              </Col>\n            );\n          })}\n      </Row>\n      <SectionTitle\n        title=\"Creatures\"\n        subTitle=\"There are currently 198 unique creatures\"\n      >\n        <Button onClick={handleGetStarted}>Mint a creature</Button>\n      </SectionTitle>\n      <CreaturesListing />\n    </>\n  );\n}\n","import { useState, useEffect, useMemo } from \"react\";\nimport cn from \"classnames\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useLocation } from \"react-router-dom\";\n\nimport ArenaBg from \"../images/arena-bg.png\";\nimport { placeablePositions } from \"./arena.config\";\nimport { useGame, Status } from \"../game\";\nimport { StatsBar } from \"../components\";\nimport { callMintToken } from \"../store\";\n\nimport \"./arena.scss\";\n\nconst range = (size) => Array(size).fill(0);\n\nexport function Arena() {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const tokens = useSelector((state) => state.tokens);\n  const activeToken = tokens[0];\n\n  const roomId = useMemo(() => {\n    const searchParams = new URLSearchParams(location.search);\n    return searchParams.get(\"roomId\");\n  }, [location.search]);\n\n  const {\n    attack,\n    myAttacks,\n    challengerAttacks,\n    challengerReady,\n    setCreaturePosition,\n    ready,\n    socket,\n    status,\n    error,\n    gameStarted,\n    creaturePosition,\n    attackCount,\n    repairCount,\n    seconds,\n    repair,\n    challengerTokenId,\n    startGame,\n  } = useGame({\n    initialCreaturePosition: placeablePositions[0],\n    tokenId: activeToken?.id,\n    roomId,\n  });\n  const grid = useMemo(() => range(96), []);\n  const [imageLoaded, setImageLoaded] = useState(0);\n  const imageLoadedInc = () => setImageLoaded((x) => x + 1);\n  const allImagesLaoded = imageLoaded === grid.length;\n\n  useEffect(() => {\n    return () => socket && socket.disconnect();\n  }, [socket]);\n\n  const handleMint = () => {\n    dispatch(callMintToken());\n  };\n\n  const handleMove = (position) => () => {\n    if (placeablePositions.includes(position)) {\n      setCreaturePosition(position);\n    }\n  };\n\n  const handleAttack = (position) => () => {\n    // check I haven't already attacked this square and that\n    // my attack count isn't 0\n    if (attackCount <= 0 || myAttacks.includes(position)) {\n      return;\n    }\n\n    attack(position);\n  };\n\n  const handleRepair = (position) => () => {\n    // check this square has been attacked by the challenger if it hasn't\n    // then early return\n    if (repairCount <= 0 || !challengerAttacks.includes(position)) {\n      return;\n    }\n    repair(position);\n  };\n\n  const announcements = {\n    \"no-token\": (\n      <>\n        New here? get started by minting your first creture\n        <Button className=\"mt-3\" onClick={handleMint}>\n          Mint\n        </Button>\n      </>\n    ),\n    [Status.CONNECTING]: \"Waiting to connect to the arena\",\n    [Status.WAITING]: \"Waiting for challenger\",\n    [Status.ERROR]: error,\n    [Status.WINNER]: (\n      <>\n        GG! Winner winner chicken dinner{\" \"}\n        <u onClick={startGame}>New challenger</u>\n      </>\n    ),\n    [Status.LOOSER]: (\n      <>\n        You lost. Valhalla is waiting{\" \"}\n        <u className=\"pointer\" onClick={startGame}>\n          New challenger\n        </u>\n      </>\n    ),\n    [Status.DISCONNECTED]: (\n      <>\n        Challenger disconnected{\" \"}\n        <u className=\"pointer\" onClick={startGame}>\n          New Challenger\n        </u>\n      </>\n    ),\n  };\n\n  const consoleMessages = {\n    [Status.CONNECTING]: \"Waiting to connect to the arena\",\n    [Status.WAITING]: \"Waiting for challenger\",\n    [Status.PREPARE]: (\n      <>\n        Select a square to place your creature{\" \"}\n        <Button onClick={ready}>Ready</Button>\n      </>\n    ),\n    [Status.READY]: \"waiting for challenger to ready up!\",\n    [Status.ATTACK]: `Select the squares you want to attack. Your number of attacks is ${attackCount}`,\n    [Status.DEFEND]: \"Your challenger is attacking\",\n    [Status.WINNER]: \"GG! Winner winner chicken dinner\",\n    [Status.LOOSER]: \"You lost. Valhalla is waiting\",\n    [Status.MISSED]: \"You missed\",\n  };\n\n  const announcement = !activeToken?.id\n    ? announcements[\"no-token\"]\n    : announcements[status];\n  const consoleMessage = consoleMessages[status];\n  const attacked = status === Status.DEFEND ? challengerAttacks : myAttacks;\n  const publicUrl = process.env.PUBLIC_URL;\n\n  return (\n    <Container fluid>\n      <Row className=\"justify-content-center\">\n        <Col xs={12} md={7}>\n          {roomId && (\n            <div className=\"private-room-note text-center mb-3\">\n              You are in a private room share this link with a friend:{\" \"}\n              <pre className=\"mt-3\">{window.location.href}</pre>\n            </div>\n          )}\n          <StatsBar challengerTokenId={challengerTokenId} />\n        </Col>\n      </Row>\n      <Row className=\"justify-content-center\">\n        <Col xs={12} md={7}>\n          <div\n            className=\"arena-container\"\n            style={{ backgroundImage: `url(${ArenaBg})` }}\n          >\n            <p>\n              <span\n                className={cn(\"p-2 rounded status-badge mr-2\", {\n                  [status]: status,\n                })}\n              >\n                Status: {status}\n              </span>\n\n              {status === Status.DEFEND && (\n                <span className=\"status-badge defend p-2 mr-2 rounded\">\n                  Repairs ({repairCount})\n                </span>\n              )}\n\n              {status === Status.ATTACK && (\n                <span className=\"status-badge p-2 mr-2 attack rounded\">\n                  Attacks ({attackCount})\n                </span>\n              )}\n\n              {status !== Status.ERROR && !gameStarted && challengerReady && (\n                <span className=\"status-badge p-2 mr-2 rounded\">\n                  Challenger ready\n                </span>\n              )}\n\n              {(status === Status.ATTACK || status === Status.DEFEND) && (\n                <span className=\"status-badge p-2 mr-2 rounded\">\n                  Time: {seconds}\n                </span>\n              )}\n            </p>\n            <div className=\"arena\">\n              {announcement && (\n                <div className=\"announcement p-3\">\n                  <p className=\"m-0 p-0\">{announcement}</p>\n                </div>\n              )}\n\n              {grid.map((_, i) => {\n                const position = i + 1;\n\n                const isAttacking = status === Status.ATTACK;\n                const isDefending = status === Status.DEFEND;\n                const isFighting = isAttacking || isDefending;\n                const isAttacked = attacked.includes(position) && isFighting;\n\n                const isBattleGround = placeablePositions.includes(position);\n                const placeable = isBattleGround && status === Status.PREPARE;\n                const attackable = isBattleGround && isAttacking;\n                const repairable = isBattleGround && isDefending && isAttacked;\n\n                const imageSliceNumber =\n                  position < 10 ? `0${position}` : position.toString();\n                const imageCrackNumber = (i % 3) + 1;\n\n                return (\n                  <div\n                    key={i}\n                    onClick={\n                      placeable\n                        ? handleMove(position)\n                        : attackable\n                        ? handleAttack(position)\n                        : repairable\n                        ? handleRepair(position)\n                        : undefined\n                    }\n                    className={cn(\"arena-slice\", {\n                      \"arena-slice--placeable\": placeable,\n                      \"arena-slice--attackable\": attackable,\n                      invisible: !allImagesLaoded,\n                    })}\n                  >\n                    {status !== Status.ATTACK &&\n                      position === creaturePosition &&\n                      activeToken?.creatureId && (\n                        <div className=\"creature\">\n                          <img\n                            src={`${publicUrl}/creatures/${\n                              activeToken?.creatureId || 0\n                            }.png`}\n                            alt={`creature-${activeToken?.creatureId}`}\n                            className=\"fidget\"\n                          />\n                        </div>\n                      )}\n                    {isAttacked && (\n                      <div className=\"cracked\">\n                        <img\n                          alt={`cracks-${imageCrackNumber}`}\n                          src={`${publicUrl}/arena-cracks/cracks_${imageCrackNumber}.png`}\n                        />\n                      </div>\n                    )}\n                    <img\n                      alt={`arena-slices-${imageSliceNumber}`}\n                      onLoad={imageLoadedInc}\n                      src={`${publicUrl}/arena-slices/arena-slices_${imageSliceNumber}.png`}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <p className=\"pt-3 pl-3 m-0\">\n              <span className=\"text-flash\">&gt;</span> {consoleMessage}\n            </p>\n          </div>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import { Container, Row, Col } from \"react-bootstrap\";\n\nimport \"./about.scss\";\n\nexport function About() {\n  return (\n    <Container className=\"about\">\n      <Row className=\"justify-content-center\">\n        <Col xs={12} md={8}>\n          <h1 className=\"mt-4 mb-5\">About Legend Of Crypto</h1>\n          <p>\n            [beta] Legend of Crypto is an NFT game deployed to Cheap Ethereum.\n            Each player creature is represented by an NFT stored in the\n            LegendOfCrypto contract.\n          </p>\n          <p>\n            Players can challenge each other in the Arena. Challenger a friend\n            or load into a random game. As you win games you will gain XP. XP is\n            gained at a random rate. The more you level up the more likely you\n            are to get better attacks, repairs and XP gains.\n          </p>\n          <h2>Your creature</h2>\n          <p>\n            There are currently 198 unique creatures. When you mint a creature\n            your stats all start from 0. As you gain XP you will be able to\n            upgrade your creature. Creatures are rank on two main attributes.\n          </p>\n          <p>\n            <strong>Rareness</strong>\n          </p>\n          <p>\n            Your creature has a rareness level that starts from 1. You can\n            upgrade your creatures rareness level to a max of 198. The more XP\n            you earn the more you can upgrade. Upgrades start at 0.01 eth +gas.\n            The cost of upgrading is based on how much XP you have. The more XP\n            you earn the cheaper it will be to upgrade your creature's rareness.\n          </p>\n\n          <p>\n            <strong>Creature XP</strong>\n          </p>\n          <p>\n            As you win games you will be awarded XP The maximum amount of XP you\n            can win is 100xp per game. Your creatures Level is based on your XP,\n            level 1 is 105xp. Level 100 is 50100xp.\n          </p>\n          <pre>xp for level = 5 + 100 * level * level</pre>\n          <p>\n            I order to save money on gas you don't have to submit your XP\n            results to the block chain one at a time. XP results can be batched\n            up over a 8 hour period and then submitted to the LegendOfCrypto\n            contract. After 8 hours the XP results will expire and you will no\n            longer be able to submit them.\n          </p>\n\n          <h2>Powerups</h2>\n          <p>\n            Each creature has slots to equip powerups. Poweups can give you an\n            edge in the arena. There are currently 10 powerups to collect. In\n            future certain powerups will give you access to special arenas and\n            games. Watch this space.\n          </p>\n\n          <h2>Buying and selling creatures</h2>\n          <p>\n            As you train up your creature you will be able to sell and trade\n            creatures on the Legend Of Crypto marketplace. You can list your\n            creature for sale, set a sale price and promote it on the Legend Of\n            Crypto marketplace.\n          </p>\n          <p>\n            The value of training up a high level creature is just time. For\n            example it will take around 200 games to train a level 50 creature\n            and only cost your the gas to submit the XP to the contract. It\n            would then only cost you ~0.01 eth to upgrade to rareness level 50.\n            Compare this to trying to upgrade to rareness level 50 from level 1\n            it would cost 12.5 eth\n          </p>\n\n          <h2>Will there be more creature?</h2>\n          <p>\n            Yes! Legend Of Crypto is in continuous development. Not only will\n            there be more creatures, but we will be adding more arenas, games,\n            powerups and much more.\n          </p>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { SectionTitle, CreatureCard } from \"../components\";\nimport { useModal } from \"../ModalManager\";\nimport { ModalType } from \"../components/modal.config\";\nimport { getSellable, getCreature, getListPrice } from \"../web3\";\n\nexport function Marketplace() {\n  const [creatureSale, setCreatureSale] = useState([]);\n  const tokens = useSelector((state) => state.tokens);\n  const activeToken = tokens[0];\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    async function loadSellable() {\n      const resp = await getSellable();\n      const creatures = await Promise.all(\n        resp.slice(0, 100).map(async (tokenId) => {\n          const creature = await getCreature(tokenId);\n          const listPrice = await getListPrice(tokenId);\n          return { listPrice, tokenId, ...creature };\n        })\n      );\n      setCreatureSale(creatures);\n    }\n    loadSellable();\n  }, []);\n\n  return (\n    <>\n      <SectionTitle\n        title=\"Marketplace\"\n        subTitle=\"Buy pre trained or rare creatures from other players\"\n      />\n      <Row>\n        {creatureSale.length <= 0 ? (\n          <Col xs={12} md={4} lg={3}>\n            <p className=\"mb-5\">No creatures for sale</p>\n          </Col>\n        ) : (\n          creatureSale.map((creature) => {\n            return (\n              <Col xs={12} md={4} lg={3}>\n                <CreatureCard {...creature} />\n              </Col>\n            );\n          })\n        )}\n      </Row>\n    </>\n  );\n}\n","import \"./App.scss\";\nimport { useSelector } from \"react-redux\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { useLegendOfCrypto } from \"./eth\";\nimport { routes } from \"./app.routes\";\nimport { ModalManager } from \"./ModalManager\";\nimport { Header, Footer, Main, Banner } from \"./components\";\n\nfunction App() {\n  const notification = useSelector((state) => state.notification);\n  // set up legend of crypto\n  useLegendOfCrypto();\n\n  return (\n    <Router>\n      <ModalManager>\n        <div className=\"app\">\n          <Banner />\n          <Header />\n          <Main>\n            <Switch>\n              {routes.map((route) => (\n                <Route key={route.path} {...route} />\n              ))}\n            </Switch>\n          </Main>\n          <Footer />\n        </div>\n      </ModalManager>\n      {notification && (\n        <div className=\"notifications-container p-4\">\n          <div className=\"notifications p-3 bg-info\">{notification}</div>\n        </div>\n      )}\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.scss\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}